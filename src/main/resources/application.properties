# Configuración básica de la aplicación
spring.application.name=Api-Gateway
server.port=8080

# Configuración de Eureka Client
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.instance-id=${spring.application.name}:${random.uuid}
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

# ===== CONFIGURACIÓN DE SPRING CLOUD GATEWAY MVC =====
# IMPORTANTE: Para Spring Cloud Gateway MVC las rutas se configuran así:

# Ruta 1: Para /api/usuarios/**
spring.cloud.gateway.mvc.routes[0].id=usuario-service-usuarios
spring.cloud.gateway.mvc.routes[0].uri=lb://USUARIO-MICROSERVICE
spring.cloud.gateway.mvc.routes[0].predicates[0]=Path=/api/usuarios/**

# Ruta 2: Para /api/auth/**
spring.cloud.gateway.mvc.routes[1].id=usuario-service-auth
spring.cloud.gateway.mvc.routes[1].uri=lb://USUARIO-MICROSERVICE
spring.cloud.gateway.mvc.routes[1].predicates[0]=Path=/api/auth/**

# Ruta 3: Para /api/roles/**
spring.cloud.gateway.mvc.routes[2].id=usuario-service-roles
spring.cloud.gateway.mvc.routes[2].uri=lb://USUARIO-MICROSERVICE
spring.cloud.gateway.mvc.routes[2].predicates[0]=Path=/api/roles/**


# Ruta 1: Para /api/blogs/**
spring.cloud.gateway.mvc.routes[3].id=blog-service
spring.cloud.gateway.mvc.routes[3].uri=lb://BLOG-SERVICE
spring.cloud.gateway.mvc.routes[3].predicates[0]=Path=/api/blogs/**




# Configuración adicional del Gateway
spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

# Configuración de Load Balancer
spring.cloud.loadbalancer.ribbon.enabled=false

# Configuración de logging para debug
#logging.level.org.springframework.cloud.gateway=DEBUG
#logging.level.org.springframework.web=DEBUG
#logging.level.org.springframework.cloud.client=DEBUG
#logging.level.reactor.netty=DEBUG